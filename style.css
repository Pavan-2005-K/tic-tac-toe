:root {
    --bg-dark: #333333;
    --metal-dark: #4d4d4d;
    --metal-light: #888888;
    --highlight-x: #ff9900;
    --highlight-o: #888888;
    --metal-recess: inset 0 0 10px rgba(0,0,0,0.8);
    --metal-bevel: 1px 1px 3px rgba(255,255,255,0.2), inset -1px -1px 3px rgba(0,0,0,0.8);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
}

body {
    background-color: var(--bg-dark);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.game-container {
    width: 100%;
    max-width: 450px;
    padding: 20px;
    background: var(--metal-dark);
    border: 5px solid var(--metal-light);
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

/* --- Utility Classes for Showing/Hiding --- */
.hidden {
    display: none !important;
}
.hidden-on-start {
    /* Ensures this overrides any conflicting display property */
    display: none !important; 
}

/* --- Score Panel Styling --- */
.score-panel {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(to bottom, #2c2c2c, #444444);
    padding: 15px 10px;
    border-radius: 5px;
    margin-bottom: 20px;
    box-shadow: var(--metal-bevel);
}

.score-box {
    text-align: center;
    color: white;
}

.player-label {
    font-size: 12px;
    font-weight: bold;
    letter-spacing: 1px;
    display: block;
}

.player-icon {
    font-size: 30px;
    display: none;
}

.score-number {
    font-size: 40px;
    font-weight: bold;
    display: block;
    margin-top: 5px;
}

.score-divider {
    text-align: center;
    color: var(--metal-light);
}

.score-title {
    font-size: 14px;
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}

.divider-line {
    font-size: 50px;
    line-height: 0.5;
}

/* --- Game Board and Cell Styling --- */
.board {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 5px;
    padding: 10px;
    background-color: #383838;
    border: 2px solid var(--metal-light);
    box-shadow: var(--metal-recess);
}

.cell {
    width: 100%;
    height: 120px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 70px;
    cursor: pointer;
    background: #5c5c5c;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.7), 0 0 5px rgba(255,255,255,0.1);
    border-radius: 3px;
    transition: background-color 0.1s;
}

.cell:hover:not(.x):not(.o) {
    background-color: #6a6a6a;
}

/* X and O visual styles (3D effect) */
.cell.x {
    color: var(--highlight-x);
    text-shadow: 1px 1px 5px #000, 0 0 15px var(--highlight-x);
}

.cell.o {
    color: var(--highlight-o);
    text-shadow: 1px 1px 5px #000, 0 0 15px var(--highlight-o);
}

/* --- Control Panel (BACK & RESET SCORE) --- */
.bottom-panel {
    margin-top: 20px;
}

.control-panel {
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 10px;
    background: linear-gradient(to bottom, #2c2c2c, #444444);
    box-shadow: var(--metal-bevel);
}

.control-panel button {
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold;
    letter-spacing: 1px;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.1s;
}

.back-button {
    background-color: #0088cc; 
    color: white;
    box-shadow: 0 4px #006699, var(--metal-bevel);
}

.back-button:active {
    box-shadow: 0 1px #006699, var(--metal-bevel);
    transform: translateY(3px);
}

.reset-score-button {
    background-color: #4a4a4a; 
    color: #fff;
    box-shadow: 0 4px #333333, var(--metal-bevel);
}

.reset-score-button:active {
    box-shadow: 0 1px #333333, var(--metal-bevel);
    transform: translateY(3px);
}

/* --- Mode Selection (FIXED STYLING FOR BUTTONS) --- */
.mode-selection-screen {
    background: #383838;
    padding: 40px 20px;
    text-align: center;
    color: white;
    border: 2px solid var(--metal-light);
    box-shadow: var(--metal-recess);
    /* Set to flex to center the buttons horizontally */
    display: flex;
    flex-direction: column; /* Stack h2 and buttons */
    align-items: center; /* Center items horizontally */
}

.mode-selection-screen h2 {
    margin-bottom: 20px;
    width: 100%; /* Ensure h2 takes full width */
}

/* This div will hold the two buttons side-by-side and be centered */
.mode-selection-screen > div { 
    display: flex;
    justify-content: center;
}

.mode-selection-screen button {
    /* Use a fixed, smaller width for a compact look */
    width: 140px; 
    padding: 10px 20px;
    margin: 0 5px; /* Reduced margin to bring them closer */
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    transition: background-color 0.2s;
}

.mode-selection-screen button:nth-child(1) { /* Two Players */
    background-color: #0088cc;
    color: white;
}

.mode-selection-screen button:nth-child(2) { /* Vs. Computer */
    background-color: #ffaa00;
    color: black;
}

/* --- Status Message --- */
.status-message {
    text-align: center;
    color: white;
    padding: 10px;
    font-size: 16px;
    font-weight: bold;
    background: #333333;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
}

/* --- MOBILE OPTIMIZATION (MAX-WIDTH 480PX) --- */

@media (max-width: 480px) {
    .game-container {
        padding: 10px;
        max-width: 100%;
        width: 95%; 
    }

    .cell {
        height: 100px; 
        font-size: 60px; 
    }

    .score-number {
        font-size: 30px; 
    }
    
    .score-title {
        font-size: 12px;
    }
    
    .divider-line {
        font-size: 40px; 
    }

    .control-panel button {
        padding: 8px 15px;
        font-size: 14px;
    }

    .mode-selection-screen button {
        width: 120px; /* Further reduce button width on small screens */
        padding: 8px 10px;
        font-size: 14px;
    }
}